<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="view-transition" content="same-origin" />
  <title>Mohid's DropShipping Store</title>

  <!-- Favicon -->
  <link rel="icon" href="../Logo.png" type="image/x-icon" />

  <!-- SEO Meta Tags -->
  <meta name="description"
    content="Explore Mohid's DropShipping for the best products at unbeatable prices. Start your online business today!" />
  <meta name="keywords"
    content="DropShipping, Online Business, E-commerce, Mohid's DropShipping, Pakistan DropShipping, E-Store" />
  <meta name="author" content="Mohid" />

  <!-- Open Graph Meta Tags for Social Media Sharing -->
  <meta property="og:title" content="Mohid's DropShipping" />
  <meta property="og:description"
    content="Explore Mohid's DropShipping for the best products at unbeatable prices. Start your online business today!" />
  <meta property="og:image" content="../Logo.png" />
  <meta property="og:url" content="https://mohids-dropshipping-store.netlify.app/" />
  <meta property="og:type" content="website" />
    <title>Product Page</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="../../primaryResources/styles.css" />
</head>

<body>
    <header class="navigationBar">
        <div class="navigationLogo">Mohid's DropShipping Store</div>
        <!-- <nav> -->
            <ul class="navigationMenu">
                <li><a class="navigationLinks" href="../../index.html">Home</a></li>
                <li><a class="navigationLinks" href="../../index.html#about">About</a></li>
                <li><a class="navigationLinks" href="../../index.html#contact">Contact Me</a></li>
            </ul>
        <!-- </nav> -->
    </header>
    <div class="productContentContainer">
        <div class="productMediaContainer">
            <div class="productMediaContentWrapper">
                <img src="" alt="Product Image" class="productMediaContent" id="mainProductImage" />
            </div>
            <div class="productMediaContentsWrapper" id="thumbnailContainer">
                <!-- Thumbnails will be injected here by JavaScript -->
            </div>
        </div>
        <div class="productDetailContainer">
            <div class="productName" id="productName"></div>
            <div class="productPrice" id="productPrice"></div>
            <div class="productDescription" id="productDescription"></div>
            <button onclick="sendData()" class="productOrderButton">Order Now</button>
        </div>
    </div>
    
    <script>
        // Sample product data
        // const productCount = 9; // Number of products to create

// for (let i = 1; i <= productCount; i++) {
//     products.push({
//         title: `Back Support Belt ${i}`,
//         description: "Lorem ipsum dolor, sit amet consectetur adipisicing elit.",
//         images: [
//             `https://picsum.photos/202?random=${i * 3 - 2}`,
//             `https://picsum.photos/202?random=${i * 3 - 1}`,
//             `https://picsum.photos/202?random=${i * 3}`
//         ],
//         price: 1500 + (i * 100), // Increment price for each product
//         originalPrice: 1700 + (i * 100), // Increment original price for each product
//         link: `./secondaryResources/htmlPageTemplates/backSupportBelt.html?selectedProductTitle=${`Back Support Belt ${i}`}`, // Dynamic link for each product
//         category: "Health"
//     });
// }

        let products = JSON.parse(localStorage.getItem("productsData"));


        // Function to get URL parameters
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }
    
        const productTitle = getQueryParam('selectedProductTitle');
        const product = products.find(p => p.productName == productTitle);
    
        if (product) {
            document.getElementById('productName').textContent = product.productName;
            document.getElementById('productPrice').innerHTML = `Price:${product.priceWithoutDiscount} `;
            document.getElementById('productDescription').textContent = product.productDescriptions;
            document.getElementById('mainProductImage').src = product.productImageLinks[0];
    
            const thumbnailContainer = document.getElementById('thumbnailContainer');
            product.productImageLinks.forEach((image, index) => {
                const img = document.createElement('img');
                img.src = image;
                img.alt = `${product.productName} Image ${index + 1}`;
                img.className = 'productMediaContent';
                img.addEventListener('click', () => {
                    // document.getElementById('mainProductImage').src = image;
                });
                thumbnailContainer.appendChild(img);
            });
        } else {
            document.getElementById('productName').textContent = "Product not found";
        }
        if(document.querySelector(".productMediaContentWrapper")){
        const productMediaContentWrapper = document.querySelector(".productMediaContentWrapper")
        const productMediaContentsWrapper = document.querySelector(".productMediaContentsWrapper")
        const productMediaContent = productMediaContentsWrapper.querySelectorAll(".productMediaContent");
        productMediaContent.forEach(e => {
        e.addEventListener('click', () => {
        // Clear the wrapper first if needed
        productMediaContentWrapper.innerHTML = ''; // Optional: Clear previous content

        // Append the clicked element to the wrapper
        productMediaContentWrapper.appendChild(e.cloneNode(true)); // Use cloneNode to avoid moving the original element
    });
});
}

function sendData() {
            window.location.href = `./orderPage.html?selectedProductTitle=${product.productName}`;
        }
    </script>
    <footer class="footer">
        <p>&copy; 2025 By Mohid. All rights reserved.</p>
    </footer>

    <!-- <script src="../../primaryResources/script.js"></script> -->
</body>

</html>